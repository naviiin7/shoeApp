<header
  class="site-header fixed top-0 left-0 w-full z-50 header-glass transition-transform duration-300"
  [ngClass]="{
    '-translate-y-full': hidden,
    'header-scrolled': scrolled
  }"
  role="banner"
>
  <div class="container mx-auto px-6 header-inner">
    <div class="flex items-center justify-between h-[72px]">

      <!-- LOGO â€” Inline capsule + wordmark -->
      <a routerLink="/" class="flex items-center gap-3 shrink-0 logo-wrap" aria-label="ShoeVerse home">
        <div class="logo-capsule" aria-hidden="true">
          <span class="logo-text">SV</span>
        </div>

        <span class="logo-title" aria-hidden="true">
          <span class="logo-main">Shoe</span><span class="logo-accent">Verse</span>
        </span>
      </a>

      <!-- NAV: center on desktop (absolutely positioned), hidden on small -->
      <nav class="main-nav hidden md:flex items-center gap-8 text-sm" role="navigation" aria-label="Main navigation">
        <button class="nav-link" (click)="navigateToSection('hero')">Home</button>
        <a class="nav-link" routerLink="/shop">Shop</a>
        <a class="nav-link" routerLink="/orders">My Orders</a>
        <button class="nav-link" (click)="navigateToFooter()">About</button>
        <button class="nav-link" (click)="navigateToSection('contact')">Contact</button>
      </nav>

      <!-- RIGHT ACTIONS -->
      <div class="flex items-center gap-4 actions-right">

        <!-- AUTH AREA -->
        <ng-container *ngIf="currentUser; else guestLinks">
          <span class="user-greeting hidden sm:inline text-sm">Hi, {{ currentUser.name }}</span>

          <a *ngIf="currentUser?.role === 'admin'"
             routerLink="/admin"
             class="nav-link nav-admin"
             aria-label="Admin area">Admin</a>

          <button (click)="logout()" class="btn-ghost logout-btn" aria-label="Logout">Logout</button>
        </ng-container>

        <!-- GUEST LINKS -->
        <ng-template #guestLinks>
          <a routerLink="/auth/login" class="nav-link">Login</a>
          <a routerLink="/auth/register" class="btn-neon">Sign Up</a>
        </ng-template>

        <!-- MINI CART BUTTON -->
        <button (click)="openMiniCart()" class="cart-btn relative" aria-label="Open cart">
          <svg class="cart-icon" fill="none" stroke="currentColor" stroke-width="1.6"
               stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" focusable="false" aria-hidden="true">
            <path d="M6 6h15l-1.5 9h-11L4 3H2"></path>
            <circle cx="10" cy="20" r="1.5"></circle>
            <circle cx="18" cy="20" r="1.5"></circle>
          </svg>

          <span *ngIf="cartCount > 0" class="cart-badge" aria-live="polite">{{ cartCount }}</span>
        </button>
      </div>
    </div>
  </div>
</header>
